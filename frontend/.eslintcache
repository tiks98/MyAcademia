[{"D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\index.js":"1","D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\reportWebVitals.js":"2","D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\Components\\App.js":"3","D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\Components\\Register.js":"4","D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\Components\\Login.js":"5","D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\Components\\Navbar.js":"6","D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\Components\\Home.js":"7","D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\utils\\refreshToken.js":"8","D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\Context\\AuthContext.js":"9","D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\Services\\AuthService.js":"10","D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\Components\\Message.js":"11"},{"size":695,"mtime":1611456322272,"results":"12","hashOfConfig":"13"},{"size":362,"mtime":499162500000,"results":"14","hashOfConfig":"13"},{"size":522,"mtime":1611986099015,"results":"15","hashOfConfig":"13"},{"size":2470,"mtime":1611980915609,"results":"16","hashOfConfig":"13"},{"size":3602,"mtime":1611986139619,"results":"17","hashOfConfig":"13"},{"size":2848,"mtime":1611986033895,"results":"18","hashOfConfig":"13"},{"size":465,"mtime":1611986233989,"results":"19","hashOfConfig":"13"},{"size":493,"mtime":1611110710469,"results":"20","hashOfConfig":"13"},{"size":1070,"mtime":1612048391672,"results":"21","hashOfConfig":"13"},{"size":939,"mtime":1611986266627,"results":"22","hashOfConfig":"13"},{"size":428,"mtime":1611976413189,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"g3ihdh",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"26"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"26"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"26"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\index.js",[],["52","53"],"D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\reportWebVitals.js",[],"D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\Components\\App.js",[],"D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\Components\\Register.js",["54","55"],"import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { AuthContext } from \"../Context/AuthContext\";\r\nimport Message from \"./Message\";\r\n\r\n//creating class and extending the component\r\nconst Register = (props) => {\r\n  const [user, setUser] = useState({ username: \"\", password: \"\" });\r\n  const [message, setMessage] = useState(null);\r\n  let timerID = useRef(null);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      clearTimeout(timerID);\r\n    };\r\n  }, []);\r\n\r\n  //making function getvalue to take value from input fields in the form\r\n  const onChange = (e) => {\r\n    e.preventDefault();\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setUser({ username: \"\", password: \"\" });\r\n  };\r\n\r\n  // creating register function and using axios to store the value in database\r\n  // Reference: https://github.com/woodburydev/passport-local-video/blob/master/client/src/App.js\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    Axios({\r\n      method: \"POST\",\r\n      data: {\r\n        username: user.username,\r\n        password: user.password,\r\n      },\r\n      withCredentials: true,\r\n      url: \"http://localhost:4000/user/register\",\r\n    }).then((data) => {\r\n      const { message } = data.data;\r\n      setMessage(message);\r\n      resetForm();\r\n      console.log(message);\r\n      if (!message.msgError) {\r\n        timerID = setTimeout(() => {\r\n          props.history.push(\"/login\");\r\n        }, 2000);\r\n      }\r\n    });\r\n  };\r\n\r\n  // rendering the page with jsx elements\r\n  return (\r\n    <div>\r\n      <form onSubmit={onSubmit}>\r\n        <h1>Register</h1>\r\n        <label htmlFor=\"username\" className=\"sr-only\">\r\n          Username:{\" \"}\r\n        </label>\r\n        <input\r\n          placeholder=\"Enter Username\"\r\n          onChange={onChange}\r\n          name=\"username\"\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          required\r\n        />\r\n        <label htmlFor=\"password\" className=\"sr-only\">\r\n          Password:{\" \"}\r\n        </label>\r\n        <input\r\n          placeholder=\"Enter Password\"\r\n          onChange={onChange}\r\n          name=\"password\"\r\n          type=\"password\"\r\n          className=\"form-control\"\r\n          required\r\n        />\r\n        <button className=\"btn btn-lg btn-primary btn-block\">Submit</button>\r\n      </form>\r\n      {message ? <Message message={message} /> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\Components\\Login.js",["56","57"],"import React, { useContext, useState } from \"react\";\r\nimport GoogleLogin from \"react-google-login\";\r\nimport { refreshTokenSetup } from \"../utils/refreshToken\";\r\nimport { AuthContext } from \"../Context/AuthContext\";\r\nimport AuthService from \"../Services/AuthService\";\r\nimport Message from \"./Message\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n//creating class and extending the component\r\nconst Login = (props) => {\r\n  const [user, setUser] = useState({ username: \"\", password: \"\" });\r\n  const [googleLogin, setGoogleLogin] = useState(false);\r\n  const [message, setMessage] = useState(null);\r\n  const authContext = useContext(AuthContext);\r\n\r\n  //making function getvalue to take value from input fields in the form\r\n  const onChange = (e) => {\r\n    e.preventDefault();\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // creating login function and using axios to store the value in database\r\n  // Reference: https://www.youtube.com/watch?v=7_fo3nrqiY8&t=1332s\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    AuthService.login(user).then((data) => {\r\n      console.log(data);\r\n      const { isAuthenticated, user, message } = data;\r\n      if (isAuthenticated) {\r\n        authContext.setUser(user);\r\n        authContext.setGoogleLogin(false);\r\n        authContext.setIsAuthenticated(isAuthenticated);\r\n        props.history.push(\"/\");\r\n      } else setMessage(message);\r\n    });\r\n  };\r\n\r\n  const responseSuccessGoogle = (res) => {\r\n    console.log(res.profileObj);\r\n    refreshTokenSetup(res);\r\n    authContext.setUser({\r\n      ...user,\r\n      username: res.profileObj.givenName,\r\n      password: res.profileObj.googleId,\r\n    });\r\n    authContext.setGoogleLogin(true);\r\n    authContext.setIsAuthenticated(true);\r\n    props.history.push(\"/\");\r\n  };\r\n\r\n  const responseFailureGoogle = (res) => {};\r\n\r\n  // rendering the page with jsx elements\r\n  return (\r\n    <div>\r\n      <form onSubmit={onSubmit}>\r\n        <h1>login</h1>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"username\" className=\"sr-only\">\r\n            Username:{\" \"}\r\n          </label>\r\n          <input\r\n            placeholder=\"Enter Username\"\r\n            onChange={onChange}\r\n            name=\"username\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"password\" className=\"sr-only\">\r\n            Password:{\" \"}\r\n          </label>\r\n          <input\r\n            placeholder=\"Enter Password\"\r\n            onChange={onChange}\r\n            type=\"password\"\r\n            name=\"password\"\r\n            className=\"form-control\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <button className=\"btn btn-lg btn-primary btn-block\">Submit</button>\r\n        </div>\r\n        <div className=\"mb-3 col-12\">\r\n          <GoogleLogin\r\n            clientId=\"255153393550-c00iv7khe28pcrheeitfh6p20h6ie83o.apps.googleusercontent.com\"\r\n            buttonText=\"Login with Google\"\r\n            onSuccess={responseSuccessGoogle}\r\n            onFailure={responseFailureGoogle}\r\n            cookiePolicy={\"single_host_origin\"}\r\n            isSignedIn={true}\r\n          />\r\n        </div>\r\n        <div className=\"mb-3 col-12\">\r\n          <Link to=\"/register\">\r\n            <button className=\"btn btn-lg btn-primary\" href=\"/register\">\r\n              Create Account\r\n            </button>\r\n          </Link>\r\n        </div>\r\n      </form>\r\n      {message ? <Message message={message} /> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\Components\\Navbar.js",["58"],"import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AuthService from \"../Services/AuthService\";\r\nimport { AuthContext } from \"../Context/AuthContext\";\r\nimport { GoogleLogout } from \"react-google-login\";\r\n\r\nconst Navbar = (props) => {\r\n  const {\r\n    isAuthenticated,\r\n    user,\r\n    setIsAuthenticated,\r\n    setUser,\r\n    googleLogin,\r\n    setGoogleLogin,\r\n  } = useContext(AuthContext);\r\n\r\n  const onLogoutSuccess = (res) => {\r\n    alert(\"Logout Successful\");\r\n    setIsAuthenticated(false);\r\n    setGoogleLogin(false);\r\n  };\r\n\r\n  const onFailure = () => {\r\n    alert(\"Logout Unsuccessful, Please try again later\");\r\n  };\r\n\r\n  const onClickLogoutHandler = () => {\r\n    AuthService.logout().then((data) => {\r\n      if (data.success) {\r\n        setUser(data.user);\r\n        setIsAuthenticated(false);\r\n      }\r\n    });\r\n  };\r\n\r\n  const unauthenticatedNavbar = () => {\r\n    return (\r\n      <>\r\n        <Link to=\"/login\">\r\n          <li className=\"nav-item nav-link\">Login</li>\r\n        </Link>\r\n        <Link to=\"/register\">\r\n          <li className=\"nav-item nav-link\">Register</li>\r\n        </Link>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const authenticatedNavbar = () => {\r\n    return (\r\n      <>\r\n        <Link to=\"/\">\r\n          <li className=\"nav-item nav-link\">Home</li>\r\n        </Link>\r\n        {!googleLogin ? (\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-link nav-item nav-link\"\r\n            onClick={onClickLogoutHandler}\r\n          >\r\n            Logout\r\n          </button>\r\n        ) : (\r\n          <GoogleLogout\r\n            clientId=\"255153393550-c00iv7khe28pcrheeitfh6p20h6ie83o.apps.googleusercontent.com\"\r\n            buttonText=\"Logout\"\r\n            onLogoutSuccess={onLogoutSuccess}\r\n            onFailure={onFailure}\r\n            href=\"/login\"\r\n          ></GoogleLogout>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <div className=\"container-fluid\">\r\n        <div className=\"navbar-brand\">MyAcademia</div>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarText\"\r\n          aria-controls=\"navbarText\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarText\">\r\n          <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n            {!isAuthenticated ? unauthenticatedNavbar() : authenticatedNavbar()}\r\n          </ul>\r\n          <span className=\"navbar-text\">\r\n            Navbar text with an inline element\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\Components\\Home.js",["59"],"import React, { useContext } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { AuthContext } from \"../Context/AuthContext\";\r\n\r\nconst Home = (props) => {\r\n  const { isAuthenticated, user, googleLogin } = useContext(AuthContext);\r\n\r\n  return (\r\n    <div>\r\n      {!isAuthenticated ? <Redirect to=\"/login\" /> : null}\r\n      <h1>Welcome Back</h1>\r\n      <h2>{!user.username ? null : user.username}</h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\utils\\refreshToken.js",[],"D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\Context\\AuthContext.js",["60"],"D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\Services\\AuthService.js",["61"],"export default {\r\n  login: (user) => {\r\n    return fetch(\"/user/login\", {\r\n      method: \"post\",\r\n      body: JSON.stringify(user),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n      if (res.status !== 401) return res.json().then((data) => data);\r\n      else\r\n        return {\r\n          isAuthenticated: false,\r\n          user: { username: \"\" },\r\n          message: {\r\n            msgBody: \"Username or Password is incorrect, Please try again\",\r\n            msgError: true,\r\n          },\r\n        };\r\n    });\r\n  },\r\n  logout: () => {\r\n    return fetch(\"/user/logout\")\r\n      .then((res) => res.json())\r\n      .then((data) => data);\r\n  },\r\n  isAuthenticated: () => {\r\n    return fetch(\"/user/authenticated\").then((res) => {\r\n      if (res.status !== 401) return res.json().then((data) => data);\r\n      else return { isAuthenticated: false, user: { username: \"\" } };\r\n    });\r\n  },\r\n};\r\n","D:\\GCFiles\\Sem6\\MyAcademia\\frontend\\src\\Components\\Message.js",[],{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":1,"column":17,"nodeType":"68","messageId":"69","endLine":1,"endColumn":27},{"ruleId":"66","severity":1,"message":"70","line":3,"column":10,"nodeType":"68","messageId":"69","endLine":3,"endColumn":21},{"ruleId":"66","severity":1,"message":"71","line":12,"column":10,"nodeType":"68","messageId":"69","endLine":12,"endColumn":21},{"ruleId":"66","severity":1,"message":"72","line":12,"column":23,"nodeType":"68","messageId":"69","endLine":12,"endColumn":37},{"ruleId":"66","severity":1,"message":"73","line":10,"column":5,"nodeType":"68","messageId":"69","endLine":10,"endColumn":9},{"ruleId":"66","severity":1,"message":"71","line":6,"column":34,"nodeType":"68","messageId":"69","endLine":6,"endColumn":45},{"ruleId":"74","severity":1,"message":"75","line":6,"column":1,"nodeType":"76","endLine":41,"endColumn":3},{"ruleId":"74","severity":1,"message":"77","line":1,"column":1,"nodeType":"76","endLine":33,"endColumn":3},"no-native-reassign",["78"],"no-negated-in-lhs",["79"],"no-unused-vars","'useContext' is defined but never used.","Identifier","unusedVar","'AuthContext' is defined but never used.","'googleLogin' is assigned a value but never used.","'setGoogleLogin' is assigned a value but never used.","'user' is assigned a value but never used.","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","Assign object to a variable before exporting as module default","no-global-assign","no-unsafe-negation"]